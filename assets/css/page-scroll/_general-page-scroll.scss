/* ==========================================================================
   Required for the animation to work at all
   ========================================================================== */

body.page-scroll-animations {
    background-color: black;

    &:before {
        /* never visible - this is used in jQuery to check the current MQ */
        content: 'mobile';
        display: none;

        @media only screen and (min-width: 1050px) {
            /* never visible - this is used in jQuery to check the current MQ */
            content: 'desktop';
        }
    }

    .site-content {
        display: block;
    }

    &[data-hijacking='on'] {
        overflow: hidden;
    }
}

/* ==========================================================================
   Vertical nav
   ========================================================================== */

body.page-scroll-animations {
    .cd-vertical-nav {
        position: fixed;
        z-index: 10000;
        right: 3%;
        top: 50%;
        bottom: auto;
        -webkit-transform: translateY(-50%);
        -moz-transform: translateY(-50%);
        -ms-transform: translateY(-50%);
        -o-transform: translateY(-50%);
        transform: translateY(-50%);
        display: none;

        li {
            list-style: none;
        }

        a {
            display: block;
            height: 40px;
            width: 40px;
            overflow: hidden;
            text-decoration: none;
            // text-indent: 100%;
            white-space: nowrap;
            // background-color: red;
            color: white;
            font-family: dashicons;
            font-size: 40px;

            span.dashicons {
                font-size: 40px;
            }

            &.cd-prev {
                // -webkit-transform: rotate(180deg);
                // -moz-transform: rotate(180deg);
                // -ms-transform: rotate(180deg);
                // -o-transform: rotate(180deg);
                // transform: rotate(180deg);
                margin-bottom: 20px;
            }

            &.inactive {
                visibility: hidden;
                opacity: 0;
                -webkit-transition: opacity 0.2s 0s, visibility 0s 0.2s;
                -moz-transition: opacity 0.2s 0s, visibility 0s 0.2s;
                transition: opacity 0.2s 0s, visibility 0s 0.2s;
            }
        }

        @media only screen and (min-width: 1050px) {
            display: block;
        }
    }
}

/* ==========================================================================
   Section defaults
   ========================================================================== */

.cd-section {
    height: 100vh;

    > div {
        height: 100vh;
    }
}

.cd-section:first-of-type > div {
    background-color: black;
}
.cd-section:nth-of-type(2) > div {
    background-color: black;
}
.cd-section:nth-of-type(3) > div {
    background-color: black;
}
.cd-section:nth-of-type(4) > div {
    background-color: black;
}
.cd-section:nth-of-type(5) > div {
    background-color: black;
}

/*
   Parallax
   ========================================================================== */

[data-animation='parallax'] .cd-section > div {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
}

@media only screen and (min-width: 1050px) {
    [data-hijacking='on'] .cd-section {
        opacity: 0;
        visibility: hidden;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
    }

    [data-hijacking='on'] .cd-section > div {
        visibility: visible;
    }

    [data-hijacking='off'] .cd-section > div {
        opacity: 0;
    }

    [data-animation='rotate'] .cd-section {
        /* enable a 3D-space for children elements */
        -webkit-perspective: 1800px;
        -moz-perspective: 1800px;
        perspective: 1800px;
    }

    [data-hijacking='on'][data-animation='rotate']
        .cd-section:not(:first-of-type) {
        -webkit-perspective-origin: center 0;
        -moz-perspective-origin: center 0;
        perspective-origin: center 0;
    }

    [data-animation='catch'] .cd-section > div,
    [data-animation='gallery'] .cd-section > div,
    [data-animation='scaleDown'] .cd-section > div {
        box-shadow: 0 0 0 rgba(25, 30, 46, 0.4);
    }

    [data-animation='opacity'] .cd-section.visible > div {
        z-index: 1;
    }
}
@media only screen and (min-width: 1050px) {
    .cd-section:first-of-type > div::before {
        display: none;
    }
}
@media only screen and (min-width: 1050px) {
    .cd-section > div {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;

        /* Force Hardware Acceleration */
        transform: translateZ(0);
        backface-visibility: hidden;
    }

    [data-hijacking='on'] .cd-section > div {
        position: absolute;
    }

    [data-animation='rotate'] .cd-section > div {
        transform-origin: center bottom;
    }
}
